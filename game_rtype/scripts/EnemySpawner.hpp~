/*
** EPITECH PROJECT, 2023
** rtype
** File description:
** EnemySpawner.hpp
*/

#pragma once

#include "Component.hpp"
#include "Components.Vanilla/CoreTransform.hpp"
#include "Components.Vanilla/UserComponentWrapper.hpp"
#include "IGraphicalModule.hpp"
#include "Timer.hpp"
#include "metadata.hpp"

needs(metabuild / libShip.so)
    serialize class EnemySpawner : public AUserComponent {
public:
    GENERATE_METADATA(EnemySpawner)

    ~EnemySpawner();

    void Update(int e) override;
    void OnAddComponent(int e) override;
    void Start() override;
    void OnLoad() override;

private:
    serialize float _spawnDelay = 2.0f;
    serialize std::string _prefabName = "dual-ship";

    eng::Timer _timer;
    CoreTransform* _transform = nullptr;
};